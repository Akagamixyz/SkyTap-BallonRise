<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SkyTap - Balloon Rise</title>
  <style>
    body {
      margin: 0;
      background: #87ceeb;
      overflow: hidden;
      text-align: center;
      font-family: Arial, sans-serif;
    }
    h1 {
      margin: 10px;
      color: #fff;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }
    #game {
      position: relative;
      width: 100%;
      height: 400px;
      background: linear-gradient(180deg, #87ceeb, #e0f7fa);
      overflow: hidden;
      border-top: 5px solid #0288d1;
    }
    /* animasi langit */
    #sky {
      position: absolute;
      width: 200%;
      height: 100%;
      background: url("https://i.ibb.co/7WZRq8m/clouds.png") repeat-x;
      background-size: contain;
      animation: moveSky 20s linear infinite;
    }
    @keyframes moveSky {
      from { transform: translateX(0); }
      to { transform: translateX(-50%); }
    }
    #balloon {
      position: absolute;
      bottom: 50px;
      left: 50%;
      transform: translateX(-50%);
      width: 50px;
      height: 70px;
      background: radial-gradient(circle at 30% 30%, #ff6f61, #e53935);
      border-radius: 50%;
      box-shadow: 0 4px 6px rgba(0,0,0,0.3);
    }
    #string {
      position: absolute;
      bottom: -20px;
      left: 50%;
      width: 2px;
      height: 20px;
      background: #444;
      transform: translateX(-50%);
    }
    .obstacle {
      position: absolute;
      width: 60px;
      height: 40px;
      background: #fff;
      border-radius: 50px;
      box-shadow: inset -10px -10px 20px rgba(0,0,0,0.1);
    }
    #score {
      margin-top: 5px;
      font-size: 20px;
      color: #fff;
      font-weight: bold;
      background: rgba(0,0,0,0.4);
      display: inline-block;
      padding: 5px 12px;
      border-radius: 12px;
    }
    #author {
      margin-top: 8px;
      font-size: 14px;
      color: #fff;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.4);
    }
    #gameOver {
      position: absolute;
      top: 40%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0,0,0,0.8);
      color: #fff;
      padding: 20px 40px;
      border-radius: 12px;
      display: none;
      font-size: 20px;
    }
  </style>
</head>
<body>
  <h1>SkyTap - Balloon Rise</h1>
  <p style="color:#fff;">Tap anywhere to move the balloon</p>
  <div id="game">
    <div id="sky"></div>
    <div id="balloon">
      <div id="string"></div>
    </div>
    <div id="gameOver">Game Over!<br><span id="finalScore"></span><br><button onclick="location.reload()">Restart</button></div>
  </div>
  <div id="score">Score: 0</div>
  <div id="author">Author: Akagamixyz | Discord: Akagami</div>

  <script>
    const game = document.getElementById("game");
    const balloon = document.getElementById("balloon");
    const scoreEl = document.getElementById("score");
    const gameOverEl = document.getElementById("gameOver");
    const finalScoreEl = document.getElementById("finalScore");

    let balloonY = game.clientHeight - 100;
    let velocity = 0;
    let gravity = -0.2;
    let score = 0;
    let gameOver = false;

    document.body.addEventListener("touchstart", moveBalloon);
    document.body.addEventListener("mousedown", moveBalloon);

    function moveBalloon() {
      if (!gameOver) velocity = 5;
    }

    function spawnObstacle() {
      if (gameOver) return;
      const obs = document.createElement("div");
      obs.classList.add("obstacle");
      obs.style.top = Math.random() * (game.clientHeight - 100) + "px";
      obs.style.left = game.clientWidth + "px";
      game.appendChild(obs);
    }

    function update() {
      if (gameOver) return;

      velocity += gravity;
      balloonY += velocity;
      balloon.style.top = balloonY + "px";

      if (balloonY < 0) balloonY = 0;
      if (balloonY > game.clientHeight - 70) balloonY = game.clientHeight - 70;

      document.querySelectorAll(".obstacle").forEach(obs => {
        let obsX = parseInt(obs.style.left);
        obs.style.left = obsX - 3 + "px";
        if (obsX < -60) obs.remove();

        let bRect = balloon.getBoundingClientRect();
        let oRect = obs.getBoundingClientRect();
        if (!(bRect.right < oRect.left || 
              bRect.left > oRect.right || 
              bRect.bottom < oRect.top || 
              bRect.top > oRect.bottom)) {
          endGame();
        }
      });

      score++;
      scoreEl.innerText = "Score: " + score;

      requestAnimationFrame(update);
    }

    function endGame() {
      gameOver = true;
      finalScoreEl.innerText = "Final Score: " + score;
      gameOverEl.style.display = "block";
    }

    setInterval(spawnObstacle, 2000);
    update();
  </script>
</body>
</html>
